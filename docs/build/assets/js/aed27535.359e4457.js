"use strict";(self.webpackChunkpmdaemon_docs=self.webpackChunkpmdaemon_docs||[]).push([[9179],{1534:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"getting-started/migration-from-pm2","title":"Migration from PM2","description":"Migrating from PM2 to PMDaemon is straightforward thanks to PMDaemon\'s PM2-compatible command interface. This guide helps you transition smoothly while taking advantage of PMDaemon\'s enhanced features.","source":"@site/docs/getting-started/migration-from-pm2.md","sourceDirName":"getting-started","slug":"/getting-started/migration-from-pm2","permalink":"/pmdaemon/docs/getting-started/migration-from-pm2","draft":false,"unlisted":false,"editUrl":"https://github.com/entrepeneur4lyf/pmdaemon/tree/main/docs/docs/getting-started/migration-from-pm2.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Quick Start","permalink":"/pmdaemon/docs/getting-started/quick-start"},"next":{"title":"Architecture Overview","permalink":"/pmdaemon/docs/architecture/overview"}}');var i=s(4848),t=s(8453);const d={},o="Migration from PM2",c={},a=[{value:"Command Compatibility",id:"command-compatibility",level:2},{value:"Direct Command Mapping",id:"direct-command-mapping",level:3},{value:"Enhanced Commands",id:"enhanced-commands",level:3},{value:"Configuration Migration",id:"configuration-migration",level:2},{value:"PM2 Ecosystem Files",id:"pm2-ecosystem-files",level:3},{value:"Key Differences",id:"key-differences",level:3},{value:"Migration Steps",id:"migration-steps",level:2},{value:"Step 1: Install PMDaemon",id:"step-1-install-pmdaemon",level:3},{value:"Step 2: Stop PM2 Processes",id:"step-2-stop-pm2-processes",level:3},{value:"Step 3: Convert Configuration",id:"step-3-convert-configuration",level:3},{value:"Step 5: Verify Migration",id:"step-5-verify-migration",level:3},{value:"Feature Comparison",id:"feature-comparison",level:2},{value:"What PMDaemon Has That PM2 Doesn&#39;t",id:"what-pmdaemon-has-that-pm2-doesnt",level:3},{value:"What&#39;s Different",id:"whats-different",level:3},{value:"Common Migration Issues",id:"common-migration-issues",level:2},{value:"1. Port Configuration",id:"1-port-configuration",level:3},{value:"2. Script vs Command",id:"2-script-vs-command",level:3},{value:"3. Environment-specific Configs",id:"3-environment-specific-configs",level:3},{value:"4. Memory Format",id:"4-memory-format",level:3},{value:"Migration Checklist",id:"migration-checklist",level:2},{value:"Taking Advantage of New Features",id:"taking-advantage-of-new-features",level:2},{value:"1. Add Port Management",id:"1-add-port-management",level:3},{value:"2. Add Health Checks",id:"2-add-health-checks",level:3},{value:"3. Use Blocking Start in Deployment",id:"3-use-blocking-start-in-deployment",level:3},{value:"4. Enhanced Monitoring",id:"4-enhanced-monitoring",level:3},{value:"Getting Help",id:"getting-help",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"migration-from-pm2",children:"Migration from PM2"})}),"\n",(0,i.jsx)(n.p,{children:"Migrating from PM2 to PMDaemon is straightforward thanks to PMDaemon's PM2-compatible command interface. This guide helps you transition smoothly while taking advantage of PMDaemon's enhanced features."}),"\n",(0,i.jsx)(n.h2,{id:"command-compatibility",children:"Command Compatibility"}),"\n",(0,i.jsxs)(n.p,{children:["PMDaemon provides a ",(0,i.jsx)(n.strong,{children:"PM2-compatible CLI"}),", so most of your existing commands work unchanged:"]}),"\n",(0,i.jsx)(n.h3,{id:"direct-command-mapping",children:"Direct Command Mapping"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"PM2 Command"}),(0,i.jsx)(n.th,{children:"PMDaemon Command"}),(0,i.jsx)(n.th,{children:"Status"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pm2 start app.js"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pmdaemon start app.js"})}),(0,i.jsx)(n.td,{children:"\u2705 Compatible"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pm2 stop app"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pmdaemon stop app"})}),(0,i.jsx)(n.td,{children:"\u2705 Compatible"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pm2 restart app"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pmdaemon restart app"})}),(0,i.jsx)(n.td,{children:"\u2705 Compatible"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pm2 reload app"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pmdaemon reload app"})}),(0,i.jsx)(n.td,{children:"\u2705 Compatible"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pm2 delete app"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pmdaemon delete app"})}),(0,i.jsx)(n.td,{children:"\u2705 Enhanced"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pm2 list"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pmdaemon list"})}),(0,i.jsx)(n.td,{children:"\u2705 Enhanced"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pm2 monit"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pmdaemon monit"})}),(0,i.jsx)(n.td,{children:"\u2705 Enhanced"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pm2 logs app"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pmdaemon logs app"})}),(0,i.jsx)(n.td,{children:"\u2705 Enhanced"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pm2 describe app"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pmdaemon info app"})}),(0,i.jsx)(n.td,{children:"\u2705 Compatible"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"enhanced-commands",children:"Enhanced Commands"}),"\n",(0,i.jsx)(n.p,{children:"PMDaemon extends PM2 commands with additional features:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# PM2 style (works in PMDaemon)\r\npmdaemon start app.js --name myapp --instances 4\r\n\r\n# PMDaemon enhancements\r\npmdaemon start app.js --name myapp --instances 4 \\\r\n  --port 3000-3003 \\                    # Port range distribution\r\n  --health-check-url http://localhost:3000/health \\  # Health checks\r\n  --wait-ready                           # Blocking start\n"})}),"\n",(0,i.jsx)(n.h2,{id:"configuration-migration",children:"Configuration Migration"}),"\n",(0,i.jsx)(n.h3,{id:"pm2-ecosystem-files",children:"PM2 Ecosystem Files"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"PM2 ecosystem.config.js:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"module.exports = {\r\n  apps: [{\r\n    name: 'my-app',\r\n    script: 'server.js',\r\n    instances: 4,\r\n    env: {\r\n      NODE_ENV: 'development'\r\n    },\r\n    env_production: {\r\n      NODE_ENV: 'production'\r\n    }\r\n  }]\r\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"PMDaemon ecosystem.json:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "apps": [{\r\n    "name": "my-app",\r\n    "script": "node",\r\n    "args": ["server.js"],\r\n    "instances": 4,\r\n    "env": {\r\n      "NODE_ENV": "production"\r\n    }\r\n  }]\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"key-differences",children:"Key Differences"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Script field"}),": PMDaemon separates the executable from arguments"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["PM2: ",(0,i.jsx)(n.code,{children:'"script": "server.js"'})]}),"\n",(0,i.jsxs)(n.li,{children:["PMDaemon: ",(0,i.jsx)(n.code,{children:'"script": "node", "args": ["server.js"]'})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Environment configs"}),": PMDaemon uses separate files for different environments"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["PM2: ",(0,i.jsx)(n.code,{children:"env_production"})," in same file"]}),"\n",(0,i.jsxs)(n.li,{children:["PMDaemon: Separate ",(0,i.jsx)(n.code,{children:"production.json"}),", ",(0,i.jsx)(n.code,{children:"development.json"})," files"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Port configuration"}),": PMDaemon uses strings for advanced port features"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["PM2: ",(0,i.jsx)(n.code,{children:'"port": 3000'})]}),"\n",(0,i.jsxs)(n.li,{children:["PMDaemon: ",(0,i.jsx)(n.code,{children:'"port": "3000"'})," or ",(0,i.jsx)(n.code,{children:'"port": "3000-3003"'})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"migration-steps",children:"Migration Steps"}),"\n",(0,i.jsx)(n.h3,{id:"step-1-install-pmdaemon",children:"Step 1: Install PMDaemon"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cargo install pmdaemon\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-2-stop-pm2-processes",children:"Step 2: Stop PM2 Processes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List current PM2 processes\r\npm2 list\r\n\r\n# Stop all PM2 processes\r\npm2 stop all\r\n\r\n# Save PM2 configuration for reference\r\npm2 save\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-3-convert-configuration",children:"Step 3: Convert Configuration"}),"\n",(0,i.jsx)(n.p,{children:"Use this script to convert PM2 ecosystem files:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\r\n# convert-pm2-config.sh\r\n\r\n# Check if ecosystem.config.js exists\r\nif [ ! -f \"./ecosystem.config.js\" ]; then\r\n  echo \"Error: ecosystem.config.js not found in current directory\"\r\n  exit 1\r\nfi\r\n\r\n# Convert PM2 ecosystem.config.js to PMDaemon ecosystem.json\r\nnode -e \"\r\ntry {\r\nconst pm2Config = require('./ecosystem.config.js');\r\nif (!pm2Config.apps || !Array.isArray(pm2Config.apps)) {\r\n  throw new Error('Invalid ecosystem.config.js: apps array not found');\r\n}\r\nconst pmdConfig = {\r\n  apps: pm2Config.apps.map(app => ({\r\n    name: app.name,\r\n    script: app.interpreter || 'node',\r\n    args: [app.script, ...(app.args || [])],\r\n    instances: app.instances || 1,\r\n    port: app.env?.PORT ? String(app.env.PORT) : undefined,\r\n    max_memory_restart: app.max_memory_restart,\r\n    cwd: app.cwd,\r\n    env: app.env_production || app.env || {},\r\n    autorestart: app.autorestart !== false,\r\n    max_restarts: app.max_restarts || 16\r\n  }))\r\n};\r\nconsole.log(JSON.stringify(pmdConfig, null, 2));\r\n} catch (error) {\r\n  console.error('Conversion failed:', error.message);\r\n  process.exit(1);\r\n}\r\n\" > ecosystem.json\r\n\r\n### Step 4: Start with PMDaemon\r\n\r\n```bash\r\n# Start all apps from converted config\r\npmdaemon --config ecosystem.json start\r\n\r\n# Or start individual processes\r\npmdaemon start \"node server.js\" --name my-app --instances 4\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-5-verify-migration",children:"Step 5: Verify Migration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check processes are running\r\npmdaemon list\r\n\r\n# Compare with PM2 output\r\npm2 list\n"})}),"\n",(0,i.jsx)(n.h2,{id:"feature-comparison",children:"Feature Comparison"}),"\n",(0,i.jsx)(n.h3,{id:"what-pmdaemon-has-that-pm2-doesnt",children:"What PMDaemon Has That PM2 Doesn't"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Feature"}),(0,i.jsx)(n.th,{children:"PMDaemon"}),(0,i.jsx)(n.th,{children:"PM2"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Port Range Distribution"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"--port 3000-3003"})," distributes consecutive ports"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Auto Port Assignment"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"--port auto:5000-5100"})," finds available ports"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Runtime Port Override"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsx)(n.td,{children:"Change ports during restart without config changes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"HTTP Health Checks"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsx)(n.td,{children:"Monitor endpoints with configurable timeouts"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Script Health Checks"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsx)(n.td,{children:"Custom health validation scripts"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Blocking Start"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsxs)(n.td,{children:["Wait for processes to be ready (",(0,i.jsx)(n.code,{children:"--wait-ready"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Bulk Delete Operations"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"delete all"}),", ",(0,i.jsx)(n.code,{children:"delete stopped --status"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Configurable Monitor Intervals"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"monit --interval 5"})," for custom refresh rates"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Real-time Log Following"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"logs --follow"})," with proper ",(0,i.jsx)(n.code,{children:"tail -f"})," behavior"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Professional Table Display"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsx)(n.td,{children:"Color-coded status, PID column, beautiful formatting"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"WebSocket Real-time Updates"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsx)(n.td,{children:"Live process status via WebSocket"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"whats-different",children:"What's Different"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Feature"}),(0,i.jsx)(n.th,{children:"PM2"}),(0,i.jsx)(n.th,{children:"PMDaemon"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Ecosystem Files"})}),(0,i.jsx)(n.td,{children:"JavaScript"}),(0,i.jsx)(n.td,{children:"JSON/YAML/TOML"}),(0,i.jsx)(n.td,{children:"PMDaemon supports multiple formats"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Environment Configs"})}),(0,i.jsx)(n.td,{children:"Single file"}),(0,i.jsx)(n.td,{children:"Separate files"}),(0,i.jsx)(n.td,{children:"Use different files for dev/prod"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Port Configuration"})}),(0,i.jsx)(n.td,{children:"Numbers"}),(0,i.jsx)(n.td,{children:"Strings"}),(0,i.jsxs)(n.td,{children:["PMDaemon: ",(0,i.jsx)(n.code,{children:'"3000"'}),", ",(0,i.jsx)(n.code,{children:'"3000-3003"'}),", ",(0,i.jsx)(n.code,{children:'"auto:5000-5100"'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Memory Limits"})}),(0,i.jsx)(n.td,{children:"Various formats"}),(0,i.jsx)(n.td,{children:"Standardized"}),(0,i.jsxs)(n.td,{children:["PMDaemon: ",(0,i.jsx)(n.code,{children:'"512M"'}),", ",(0,i.jsx)(n.code,{children:'"1G"'}),", ",(0,i.jsx)(n.code,{children:'"100K"'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Log Management"})}),(0,i.jsx)(n.td,{children:"Built-in rotation"}),(0,i.jsx)(n.td,{children:"External tools"}),(0,i.jsxs)(n.td,{children:["Use ",(0,i.jsx)(n.code,{children:"logrotate"})," or similar"]})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"common-migration-issues",children:"Common Migration Issues"}),"\n",(0,i.jsx)(n.h3,{id:"1-port-configuration",children:"1. Port Configuration"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem"}),": PM2 uses numbers, PMDaemon uses strings"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'// PM2\r\n{ port: 3000 }\r\n\r\n// PMDaemon\r\n{ "port": "3000" }\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),": Convert port numbers to strings in your config files."]}),"\n",(0,i.jsx)(n.h3,{id:"2-script-vs-command",children:"2. Script vs Command"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem"}),": PM2 combines script and interpreter"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'// PM2\r\n{ script: "server.js" }\r\n\r\n// PMDaemon\r\n{ "script": "node", "args": ["server.js"] }\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),": Separate the interpreter from the script file."]}),"\n",(0,i.jsx)(n.h3,{id:"3-environment-specific-configs",children:"3. Environment-specific Configs"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem"}),": PM2 supports ",(0,i.jsx)(n.code,{children:"env_production"})," in same file"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// PM2\r\n{\r\n  env: { NODE_ENV: 'development' },\r\n  env_production: { NODE_ENV: 'production' }\r\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),": Create separate config files:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# development.json\r\n{ "apps": [{ "env": { "NODE_ENV": "development" } }] }\r\n\r\n# production.json  \r\n{ "apps": [{ "env": { "NODE_ENV": "production" } }] }\n'})}),"\n",(0,i.jsx)(n.h3,{id:"4-memory-format",children:"4. Memory Format"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem"}),": PM2 accepts various memory formats"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'// PM2 (various formats)\r\n{ max_memory_restart: "1024M" }\r\n{ max_memory_restart: "1G" }\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),": Use PMDaemon's standardized format:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{ "max_memory_restart": "1G" }\n'})}),"\n",(0,i.jsx)(n.h2,{id:"migration-checklist",children:"Migration Checklist"}),"\n",(0,i.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Install PMDaemon"}),": ",(0,i.jsx)(n.code,{children:"cargo install pmdaemon"})]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Backup PM2 config"}),": ",(0,i.jsx)(n.code,{children:"pm2 save"})]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Stop PM2 processes"}),": ",(0,i.jsx)(n.code,{children:"pm2 stop all"})]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Convert ecosystem files"}),": Use conversion script or manual conversion"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Update port configurations"}),": Change numbers to strings"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Separate environment configs"}),": Create dev/prod specific files"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Test PMDaemon startup"}),": ",(0,i.jsx)(n.code,{children:"pmdaemon --config ecosystem.json start"})]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Verify process status"}),": ",(0,i.jsx)(n.code,{children:"pmdaemon list"})]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Test health checks"}),": Add health check configurations"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Update deployment scripts"}),": Replace ",(0,i.jsx)(n.code,{children:"pm2"})," commands with ",(0,i.jsx)(n.code,{children:"pmdaemon"})]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Configure monitoring"}),": Set up ",(0,i.jsx)(n.code,{children:"pmdaemon monit"})," or web API"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Update documentation"}),": Update team docs with new commands"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"taking-advantage-of-new-features",children:"Taking Advantage of New Features"}),"\n",(0,i.jsx)(n.p,{children:"Once migrated, enhance your setup with PMDaemon's unique features:"}),"\n",(0,i.jsx)(n.h3,{id:"1-add-port-management",children:"1. Add Port Management"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Before (PM2)\r\npm2 start server.js --instances 4\r\n\r\n# After (PMDaemon with port ranges)\r\npmdaemon start server.js --instances 4 --port 3000-3003\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-add-health-checks",children:"2. Add Health Checks"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "apps": [{\r\n    "name": "api-server",\r\n    "script": "node",\r\n    "args": ["server.js"],\r\n    "health_check": {\r\n      "check_type": "http",\r\n      "url": "http://localhost:3000/health",\r\n      "timeout": 5,\r\n      "interval": 30,\r\n      "retries": 3\r\n    }\r\n  }]\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"3-use-blocking-start-in-deployment",children:"3. Use Blocking Start in Deployment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Wait for service to be ready before continuing\r\npmdaemon start server.js --health-check-url http://localhost:3000/health --wait-ready\r\necho "Service is ready for traffic!"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"4-enhanced-monitoring",children:"4. Enhanced Monitoring"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Real-time monitoring with custom intervals\r\npmdaemon monit --interval 2\r\n\r\n# Follow logs in real-time\r\npmdaemon logs api-server --follow\n"})}),"\n",(0,i.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/pmdaemon/docs/advanced/troubleshooting",children:"Troubleshooting Guide"})})," - Common issues and solutions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://github.com/entrepeneur4lyf/pmdaemon/issues",children:"GitHub Issues"})})," - Report migration problems"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/pmdaemon/docs/examples/use-cases",children:"Examples"})})," - See real-world migration examples"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Welcome to PMDaemon!"})," \ud83c\udf89 You now have access to advanced features that go beyond what PM2 offers, while maintaining the familiar interface you're used to."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>o});var r=s(6540);const i={},t=r.createContext(i);function d(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);